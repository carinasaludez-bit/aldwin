<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Georgia', serif; scroll-behavior:smooth; }
body { 
    background: url('https://images.pexels.com/photos/1086178/pexels-photo-1086178.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1') no-repeat center center fixed; 
    background-size: cover; 
    color:#fff; 
    overflow-x:hidden; 
    position:relative; 
}

/* Sections */
section { 
    height:100vh; 
    display:flex; 
    flex-direction:column; 
    justify-content:center; 
    align-items:center; 
    text-align:center; 
    padding:40px; 
    position:relative; 
    background: rgba(255, 193, 204, 0.7); 
}
h1 { font-size:60px; }
h2 { margin-top:20px; }

/* Background Roses per Slide */
.bg-roses { 
    position:absolute; 
    top:0; left:0; 
    width:100%; height:100%; 
    opacity:0.2; 
    pointer-events:none; 
    display:flex; 
    justify-content:space-around; 
    align-items:flex-start; 
    font-size:40px; 
    z-index:1; 
}
.bg-roses div { animation: floatRoses 5s ease-in-out infinite; }
@keyframes floatRoses { 0%,100% { transform:translateY(0) rotate(0deg); } 50% { transform:translateY(-20px) rotate(5deg); } }

/* Scroll Button */
.scroll-btn { position:absolute; bottom:30px; padding:10px 25px; background:#ff4d6d; border:none; border-radius:20px; color:white; cursor:pointer; z-index:2; }

/* Typing */
#typedText { max-width:700px; font-size:20px; line-height:1.6; min-height:180px; position:relative; z-index:2; opacity:0; transition:opacity 1s; }

/* Envelope */
.envelope { 
    width:300px; height:200px; 
    background:#f8e8e8; 
    border:2px solid #d4a5a5; 
    border-radius:10px; 
    position:relative; 
    margin:20px 0; 
    cursor:pointer; 
    z-index:2; 
    box-shadow:0 4px 8px rgba(0,0,0,0.3); 
}
.envelope::before { 
    content:''; 
    position:absolute; 
    top:0; left:0; 
    width:100%; height:50%; 
    background:#f8e8e8; 
    border-bottom:2px solid #d4a5a5; 
    clip-path: polygon(0 0, 100% 0, 50% 100%); 
    transition:transform 1s ease; 
}
.envelope.open::before { transform:rotateX(180deg) translateY(-50px); }
.envelope .flap { 
    position:absolute; 
    top:0; left:0; 
    width:100%; height:50%; 
    background:#f8e8e8; 
    border-bottom:2px solid #d4a5a5; 
    clip-path: polygon(0 0, 100% 0, 50% 100%); 
    transition:transform 1s ease; 
}
.envelope.open .flap { transform:rotateX(180deg) translateY(-50px); }

/* Heart */
.heart { font-size:70px; animation:beat 1s infinite; margin:20px 0; position:relative; z-index:2; }
@keyframes beat { 0%,100%{transform:scale(1);} 50%{transform:scale(1.2);} }

/* Buttons */
.buttons { margin-top:20px; position:relative; z-index:2; }
button { padding:15px 30px; font-size:18px; border:none; border-radius:30px; cursor:pointer; }
.yes { background:#ff4d6d; color:white; margin-right:10px; }
.no { background:#333; color:white; position:absolute; }

/* YES PAGE */
#yesPage { position:fixed; top:0; left:0; width:100%; height:100%; background:radial-gradient(circle,#ff6699,#ff3366); display:flex; flex-direction:column; justify-content:center; align-items:center; visibility:hidden; opacity:0; transition:0.5s; z-index:10; }
#yesPage.active { visibility:visible; opacity:1; }

/* Canvas */
canvas { position:fixed; top:0; left:0; pointer-events:none; z-index:5; }

/* Floating Hearts */
.floating-heart { position:absolute; font-size:20px; color:#ffb6c1; animation:floatUp linear infinite; opacity:0.8; pointer-events:none; z-index:3; }
@keyframes floatUp { 0%{transform:translateY(0) scale(1); opacity:0.8;} 100%{transform:translateY(-100vh) scale(1.5); opacity:0;} }

/* Falling Petals */
.falling-petal { position:absolute; font-size:30px; animation:fallPetals linear infinite; opacity:0.7; pointer-events:none; z-index:2; }
@keyframes fallPetals { 0%{transform:translateY(-100vh) rotate(0deg);} 100%{transform:translateY(100vh) rotate(360deg);} }

/* Flying Butterflies */
.flying-butterfly { position:absolute; font-size:25px; animation:flyButterfly linear infinite; opacity:0.6; pointer-events:none; z-index:2; }
@keyframes flyButterfly { 0%{transform:translateX(-100vw) translateY(0) rotate(0deg);} 50%{transform:translateX(50vw) translateY(-50px) rotate(180deg);} 100%{transform:translateX(100vw) translateY(0) rotate(360deg);} }

/* Twinkling Stars */
.twinkling-star { position:absolute; font-size:15px; animation:twinkle linear infinite; opacity:0; pointer-events:none; z-index:1; }
@keyframes twinkle { 0%,100%{opacity:0; transform:scale(0);} 50%{opacity:1; transform:scale(1);} }
</style>
</head>
<body>

<!-- Background Music -->
<audio id="bgMusic" loop preload="auto">
    <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<canvas id="confetti"></canvas>

<!-- PAGE 1 -->
<section id="page1">
    <div class="bg-roses">
        <div>üåπ</div><div>üåπ</div><div>üåπ</div><div>üåπ</div><div>üåπ</div>
    </div>
    <p>A message just for you</p>
    <h1>EMANUELE ‚ù§Ô∏è</h1>
    <button class="scroll-btn" onclick="scrollToPage('page2')">Scroll Down ‚Üì</button>
</section>

<!-- PAGE 2 -->
<section id="page2">
    <div class="bg-roses">
        <div>ü•Ä</div><div>ü•Ä</div><div>ü•Ä</div><div>ü•Ä</div><div>ü•Ä</div>
    </div>
    <div class="envelope" id="envelope">
        <div class="flap"></div>
    </div>
    <div id="typedText"></div>
    <button class="scroll-btn" onclick="scrollToPage('page3')">Scroll Down ‚Üì</button>
</section>

<!-- PAGE 3 -->
<section id="page3">
    <div class="bg-roses">
        <div>üåπ</div><div>ü•Ä</div><div>üåπ</div><div>ü•Ä</div><div>üåπ</div>
    </div>
    <div class="heart">‚ù§Ô∏è</div>
    <h2>Will you be my Valentine?</h2>

    <div class="buttons">
        <button class="yes" id="yesBtn">YES üíï</button>
        <button class="no" id="noBtn">NO üò¢</button>
    </div>

    <button class="scroll-btn" onclick="scrollToPage('page1')">Back to Top ‚Üë</button>
</section>

<!-- YES SCREEN -->
<div id="yesPage">
    <h1>SHE SAID YES! üéâ</h1>
    <p>You made this the best Valentine‚Äôs Day ever üíñ</p>
</div>

<script>
/* Smooth Scroll */
function scrollToPage(id){
    document.getElementById(id).scrollIntoView({behavior:"smooth"});
}

/* Envelope Opening and Typing */
const envelope = document.getElementById("envelope");
const typedText = document.getElementById("typedText");
let envelopeOpened = false;

envelope.addEventListener("click", function(){
    if(!envelopeOpened){
        envelope.classList.add("open");
        setTimeout(() => {
            typedText.style.opacity = 1;
            typeWriter();
        }, 1000);
        envelopeOpened = true;
    }
});

const text = `My dearest Emanuele,

There are things in this world that are hard to say ‚Äî
because they are deeply felt.

You are my favorite notification,
my peace,
my happiness.

And today I just want to ask...

Will you be mine? üíñ`;

let i = 0;
function typeWriter(){
    if(i < text.length){
        typedText.innerHTML += text.charAt(i) === "\n" ? "<br>" : text.charAt(i);
        i++;
        setTimeout(typeWriter, text.charAt(i-1)==="\n"?500:35);
    }
}

/* NO Button Movement */
const noBtn = document.getElementById("noBtn");
function moveNo(){
    const x = Math.random()*200 - 100;
    const y = Math.random()*150 - 75;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
}
noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("click", moveNo);
noBtn.addEventListener("touchstart", moveNo);

/* Confetti System */
const canvas = document.getElementById("confetti");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];
let confettiRunning = false;
let confettiInterval;

function createConfetti(){
    particles = [];
    for(let i=0;i<150;i++){
        particles.push({
            x: Math.random()*canvas.width,
            y: Math.random()*canvas.height - canvas.height,
            size: Math.random()*6+4,
            speed: Math.random()*3+2,
            color: `hsl(${Math.random()*360}, 100%, 50%)`
        });
    }
}

function drawConfetti(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p=>{
        ctx.fillStyle = p.color;
        ctx.fillRect(p.x,p.y,p.size,p.size);
        p.y += p.speed;
        if(p.y > canvas.height) p.y = -10;
    });
}

/* Floating Hearts */
function createFloatingHeart(){
    const heart = document.createElement("div");
    heart.className = "floating-heart";
    heart.innerText = Math.random() > 0.5 ? "‚ù§Ô∏è" : "üíñ";
    heart.style.left = Math.random()*window.innerWidth + "px";
    heart.style.fontSize = (15 + Math.random()*20) + "px";
    heart.style.animationDuration = (3 + Math.random()*3) + "s";
    document.body.appendChild(heart);
    setTimeout(()=> heart.remove(), 6000);
}
setInterval(createFloatingHeart, 400);

/* Falling Petals */
function createFallingPetal(){
    const petal = document.createElement("div");
    petal.className = "falling-petal";
    petal.innerText = Math.random() > 0.5 ? "üå∏" : "üå∫";
    petal.style.left = Math.random()*window.innerWidth + "px";
    petal.style.animationDuration = (5 + Math.random()*5) + "s";
    document.body.appendChild(petal);
    setTimeout(()=> petal.remove(), 10000);
}
setInterval(createFallingPetal, 1000);

/* Flying Butterflies */
function createFlyingButterfly(){
    const butterfly = document.createElement("div");
    butterfly.className = "flying-butterfly";
    butterfly.innerText = "ü¶ã";
    butterfly.style.top = Math.random()*window.innerHeight + "px";
    butterfly.style.animationDuration = (8 + Math.random()*4) + "s";
    document.body.appendChild(butterfly);
    setTimeout(()=> butterfly.remove(), 12000);
}
setInterval(createFlyingButterfly, 3000);

/* Twinkling Stars */
function createTwinklingStar(){
    const star = document.createElement("div");
    star.className = "twinkling-star";
    star.innerText = "‚≠ê";
    star.style.left = Math.random()*window.innerWidth + "px";
    star.style.top = Math.random()*window.innerHeight + "px";
    star.style.animationDuration = (2 + Math.random()*2) + "s";
    document.body.appendChild(star);
    setTimeout(()=> star.remove(), 4000);
}
setInterval(createTwinklingStar, 2000);

/* Cinematic Heart Explosion with Extras */
function createHeartExplosion(){
    const colors = ["#ff4d6d","#ff6699","#ff99aa","#ffb6c1","#ff80ab"];
    for(let i=0;i<100;i++){
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.innerText = "‚ù§Ô∏è";
        heart.style.left = (window.innerWidth/2) + "px";
        heart.style.top = (window.innerHeight/2) + "px";
        heart.style.fontSize = (10 + Math.random()*30) + "px";
        heart.style.color = colors[Math.floor(Math.random()*colors.length)];
        heart.style.transition = "transform 1.5s ease-out, opacity 1.5s ease-out";
        heart.style.zIndex = "15";
        document.body.appendChild(heart);

        const angle = Math.random()*2*Math.PI;
        const distance = 200 + Math.random()*400;
        const x = Math.cos(angle)*distance;
        const y = Math.sin(angle)*distance - 50;

        setTimeout(()=>{
            heart.style.transform = `translate(${x}px, ${y}px) rotate(${Math.random()*720}deg)`;
            heart.style.opacity = 0;
        },50);
        setTimeout(()=> heart.remove(), 2000);
    }
    // Add extra petals and butterflies to explosion
    for(let j=0;j<20;j++){
        setTimeout(createFallingPetal, j*100);
        setTimeout(createFlyingButterfly, j*150);
    }
}

/* YES Button */
document.getElementById("yesBtn").addEventListener("click", function(){
    document.getElementById("yesPage").classList.add("active");
    if(!confettiRunning){
        confettiRunning = true;
        createConfetti();
        confettiInterval = setInterval(drawConfetti, 20);
    }
    createHeartExplosion();
    const music = document.getElementById("bgMusic");
    music.play().catch(e => console.log("Autoplay blocked; music will play on next interaction."));
});

/* Resize Canvas */
window.addEventListener("resize", ()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    if(confettiRunning){
        clearInterval(confettiInterval);
        createConfetti();
        confettiInterval = setInterval(drawConfetti, 20);
    }
});
</script>
</body>
</html>
